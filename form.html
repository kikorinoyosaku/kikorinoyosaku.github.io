<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>お問い合わせ | 与作</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{font-family:'Noto Sans JP',ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,Arial}
    .container{max-width: 880px;}
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <main class="container mx-auto px-4 py-12">
    <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-sm border border-slate-200 p-6 md:p-8">
      <h1 class="text-2xl md:text-3xl font-extrabold text-slate-900">お問い合わせ</h1>
      <p class="mt-2 text-slate-600">必要事項をご入力の上、送信してください。折り返しご連絡します。</p>

      <form id="contact-form" class="mt-6 space-y-5" novalidate>
        <div>
          <label for="name" class="block text-sm font-medium text-slate-700">お名前</label>
          <input id="name" name="name" type="text" required
                 class="mt-1 block w-full rounded-md border border-slate-300 shadow-sm focus:border-emerald-700 focus:ring-emerald-700" />
        </div>

        <div>
          <label for="email" class="block text-sm font-medium text-slate-700">メールアドレス</label>
          <input id="email" name="email" type="email" required
                 class="mt-1 block w-full rounded-md border border-slate-300 shadow-sm focus:border-emerald-700 focus:ring-emerald-700" />
        </div>

        <div>
          <label for="message" class="block text-sm font-medium text-slate-700">お問い合わせ内容</label>
          <textarea id="message" name="message" rows="6" required
                    class="mt-1 block w-full rounded-md border border-slate-300 shadow-sm focus:border-emerald-700 focus:ring-emerald-700"></textarea>
        </div>

        <!-- 送信ボタン -->
        <div class="pt-2">
          <button type="submit"
                  class="w-full sm:w-auto bg-emerald-700 hover:bg-emerald-800 text-white font-semibold px-5 py-3 rounded-md shadow">
            送信する
          </button>
          <a href="./index.html" class="ml-3 text-sm text-slate-600 hover:text-slate-800">← ホームへ戻る</a>
        </div>

        <!-- 利用者向け注記 -->
        <p class="text-xs text-slate-500">送信でプライバシーポリシーに同意したものとみなします。返信にお時間をいただく場合があります。</p>
      </form>
    </div>
  </main>

  <script>
    // === 必要ならここを新しいフォームIDに置き換え ===
    const FORM_ENDPOINT = "https://formspree.io/f/mvgbwqnb";

    const form = document.getElementById("contact-form");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = new FormData(form);

      try {
        await fetch(FORM_ENDPOINT, {
          method: "POST",
          body: data,
          headers: { "Accept": "application/json" }
        });
      } catch (err) {
        // 通信に失敗してもユーザー体験を優先してサンクスに飛ばす
        console.warn("submit error:", err);
      }
      // Formspreeの既定ページを介さず、必ず自サイトのthanksへ
      window.location.href = "./thanks.html";
    });
  </script>
</body>
</html>
